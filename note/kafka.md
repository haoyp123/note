### kafka

1. #### 消息队列

   1. 点对点：可以有多个消费者但是一个消息只能被消费一次

   2. 发布订阅：生产者发布topic 消费者订阅，发布的消息可以被订阅的消费者消费。

      因为消费者消费速度不一样，所以有两种模式。

      1. 消费者主动拉取。kafka主动拉取模式，该模式消费者会进行轮询查看是否有消息。
      2. 队列主动推送

2. #### kafka的基本架构

   1. ###### 生产者

   2. ###### 消费者

      1. 消费者组。多个消费者可以组成一个消费者组。每一个分区中的消息只能被同一个消费者组里的消费者消费。提高消费能力。消费者组里的消费者数和分区数相等的时候效率最好。

   3. ###### kafka集群

      1. broker--集群中每个kafka就可以简单理解为一个broker
         - broker中有不同的topic。topic对消息进行分类。
         - partition--提高负载均衡能力。集群中同一个主题在不同的机器中。
         - leader--针对的是当前分区的leader。follow起到的是备份的作用